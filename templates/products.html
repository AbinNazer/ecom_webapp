{% extends "base.html" %}
{% block content %}
<div class="container">
    <h2>üõç All Products</h2>

    <!-- Search & Filter -->
    <form method="get" class="search-form">
        <input type="text" name="search" placeholder="Search..." value="{{ request.args.get('search', '') }}">
        <select name="category">
            <option value="">All Categories</option>
            {% for cat in categories %}
            <option value="{{ cat }}" {% if request.args.get('category') == cat %}selected{% endif %}>{{ cat }}</option>
            {% endfor %}
        </select>
        <button type="submit">Filter</button>
    </form>

    <!-- Products Grid -->
    <div class="product-grid">
        {% for product in products %}
        <div class="product-card">
            <img src="{{ product.image }}" alt="{{ product.name }}">
            {% if product.discount %}
            <div class="discount-badge">-{{ product.discount }}%</div>
            {% endif %}
            <h3>{{ product.name }}</h3>
            <p class="price">
                ‚Çπ{{ product.price }}
                {% if product.original_price %}
                <span class="original-price">‚Çπ{{ product.original_price }}</span>
                {% endif %}
            </p>
            <p class="rating">
                {% for i in range(product.rating) %}‚òÖ{% endfor %}
                {% for i in range(5 - product.rating) %}‚òÜ{% endfor %}
            </p>
            <a href="{{ url_for('add_to_cart', product_id=product.id) }}" class="btn">Add to Cart üõí</a>
        </div>
        {% else %}
        <p>No products found.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}




